"use strict";let seriesList=[],favoriteSeriesList=[];const finalSeriesList=document.querySelector(".js-filmsList"),imageInstead="https://via.placeholder.com/210x295/ffffff/666666/? text=TV",finalFavoriteList=document.querySelector(".js-containerFavoritesList");function getApiSeries(){const t=document.querySelector(".js-input").value;fetch("//api.tvmaze.com/search/shows?q="+t).then(t=>t.json()).then(t=>{seriesList=t,paintSeriesList()})}const paintSeriesList=()=>{let t="";for(let s=0;s<seriesList.length;s++)null!==seriesList[s].show.image?(t+=`<li id="${s}" class="js-list">`,t+=`<img class="js-image" src="${seriesList[s].show.image.medium}"/>`,t+=`<h3 class="js-filmTitle">${seriesList[s].show.name}</h3>`,t+=`<button type="button" class="js-buttonToFavorites" alt="A単adir a favoritos"data-id="${s}">A単adir a favoritos</button>`,t+=`<p>${seriesList[s].show.status}</p>`,t+="</li>"):(t+=`<li id="${s}" class="js-list">`,t+=`<img class="js-image" src="${imageInstead}"/>`,t+=`<h3 class="js-filmTitle">${seriesList[s].show.name}</h3>`,t+=`<button type="button" class="js-buttonToFavorites" alt="A単adir a favoritos" data-id="${s}">A単adir a favoritos</button>`,t+=`<p>${seriesList[s].show.status}</p>`,t+="</li>");finalSeriesList.innerHTML=t,listenFavoriteList()},listenFavoriteList=()=>{const t=document.querySelectorAll(".js-list");for(const s of t)s.addEventListener("click",addFavorite)},addFavorite=t=>{const s=parseInt(t.currentTarget.id);if(console.log(t.currentTarget.id),-1!==favoriteSeriesList.indexOf(seriesList[s])){const t=favoriteSeriesList.indexOf(seriesList[s]);favoriteSeriesList.splice(t,1)}else favoriteSeriesList.push(seriesList[s]);paintFavoriteList(),setLocalStorage()};function paintConsole(){for(let t=0;t<favoriteSeriesList.length;t++)console.log(favoriteSeriesList[t].show.name)}const logButton=document.querySelector(".js-logButton");logButton.addEventListener("click",paintConsole);const paintFavoriteList=()=>{let t="";for(const s of favoriteSeriesList)null!==s.show.image?(t+='<li class="js-favoritesList">',t+=`<img src="${s.show.image.medium}" class="js-imageFav">`,t+=`<h3 class="js-listFav">${s.show.name}</h3>`,t+=`<button type="button" class="js-removeFromFavorites" alt="Sacar de favoritos" data-id="${s.show.id}"></button>`,t+="</li>"):(t+='<li class="js-favoritesList">',t+=`<img src="${imageInstead}" class="js-imageFav">`,t+=`<h3 class="js-listFav">${s.show.name}</h3>`,t+=`<button type="button" class="js-removeFromFavorites" alt="Sacar de favoritos" data-id="${s.show.id}"></button>`,t+="</li>");finalFavoriteList.innerHTML=t,listenFavoriteList()},button=document.querySelector(".js-button");button.addEventListener("click",getApiSeries);const getFromLocalStorage=()=>{const t=localStorage.getItem("favoriteList");null!==t&&(favoriteSeriesList=JSON.parse(t),paintFavoriteList())},setLocalStorage=()=>{const t=JSON.stringify(favoriteSeriesList);localStorage.setItem("favoriteList",t)};getFromLocalStorage();